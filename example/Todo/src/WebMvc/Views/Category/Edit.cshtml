@using TodoApp.WebMvc.Views.Shared.Components;

@model TodoApp.ViewModel.Category;

@{ ViewData["Title"] = "Edit category"; }
  

 
 <form class="form-horizontal" method="post" action="@Url.Action("Edit")">
    <div class="box-body">
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Id</label>
            <div class="col-sm-10">
                <input type="Email" class="form-control" readonly name="Email" value="@Model.Id">
            </div>
        </div>
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" asp-for="Title" />
            </div>
        </div>
        
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Icon</label>
            <div class="col-sm-10">
                <div class="input-group mb-3" >
                    <input type="text" class="form-control" asp-for="Icon" >
                    <span class="input-group-append">
                        <button class="btn btn-outline-secondary iconpicker"
                                data-iconset="fontawesome5" 
                                data-unselected-class="btn btn-lg btn-outline-secondary"
                                data-selected-class="btn btn-lg btn-outline-success"                                 
                                data-icon="@Html.DisplayFor(m=>m.Icon)"  ></button>
                    </span>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Color</label>
            <div class="col-sm-10">
                <div class="input-group mb-3 color" data-color-format="hex" id="cp">
                    <div class="input-group-prepend">
                        <span class="input-group-text" ><i id="colorSwatch" style="border:1px solid silver;color:#@Html.DisplayFor(m=>m.Color)" class="fas fa-square"></i></span>
                    </div>
                    <input type="text" class="form-control" asp-for="Color">
                </div>
            </div>
        </div>
        <input type="hidden" name="Id" value="@Model.Id" />
    </div>
    <!-- /.box-body -->
    <div class="box-footer">
        <button type="submit" class="btn btn-default">Cancel</button>
        <button type="submit" class="btn btn-info pull-right">Update</button>
    </div>
    <!-- /.box-footer -->
</form>

@section Scripts {
    <script type="text/javascript">
        $(document).ready(function() {
            
            $("#cp").colorpicker();
            $("#cp").colorpicker().on('colorpickerChange',function(e) {
                console.log(e.color.toString());
                console.log(e);
				$("#colorSwatch").css('color',e.color.toString());
			});
  

            $(".iconpicker").iconpicker().on('change', function(e){
                $("#Icon").val(e.icon);
            });
            


        });
    </script>
}